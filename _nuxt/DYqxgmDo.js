import{d as R,c as P,g as de,a as K,b as ue,r as X,o as ne,e as fe,f as N,h as r,w as O,i as _,u as f,_ as me,j as h,k as g,l as D,m as he,n as pe,p as U,q as oe,t as k,s as ge,F,v as M,x as _e,y as ye,z as q,T as ke,A as ve,B as be,C as Se,D as xe,E as Ce,G as te,H as $e,I as we,J as Te,K as Ie,L as Ne,M as Oe,N as De,O as Fe,P as j}from"#entry";import{_ as Ae,a as Ge}from"./Dj4Lignm.js";import{u as je,q as ze}from"./DxmdZbso.js";import"./rJCbAzvX.js";const Be={class:"avatar"},Ee={class:"title"},He={key:0,style:{position:"absolute",top:"0"}},Pe={class:"site-content"},Me={class:"site-info"},Re={class:"text-creative"},qe=["title"],Le={class:"desc-content"},Ve={class:"date"},We={key:0},Je=R({__name:"FeedCard",props:{author:{},sitenick:{},title:{},desc:{},link:{},feed:{},icon:{},avatar:{},archs:{},date:{},comment:{},error:{},inspect:{type:Boolean}},setup(e){const n=e,t=P(()=>n.title??n.sitenick??n.author),o=P(()=>de(K(n.link,!0))),c=P(()=>ue(n.link)),a=X(!1);function l(i){i=K(i);let m="red";return i===K(n.link)?m="transparent":i==="webp.se"?m="yellow":i==="qlogo.cn"?m="lightblue":i==="wsrv.nl"&&(m="lightgreen"),{border:`2px solid ${m}`,boxSizing:"content-box"}}return ne(()=>{a.value=!1}),(i,m)=>{const y=pe,p=he,d=oe,u=fe("Tooltip");return r(),N(u,{delay:200,interactive:"","hide-on-click":"toggle"},{content:O(()=>[h("div",Pe,[_(y,{class:"site-icon",src:e.icon,alt:f(t)},null,8,["src","alt"]),h("div",Me,[h("h3",Re,k(f(t)),1),h("code",{class:"domain",title:f(o)},[h("span",null,k(("getDomain"in i?i.getDomain:f(ge))(e.link)),1),f(c)?(r(),N(d,{key:0,class:"domain-mark",name:f(c)},null,8,["name"])):D("",!0)],8,qe)]),(r(!0),g(F,null,M(e.archs,s=>(r(),N(d,{key:s,class:"arch",name:("getArchIcon"in i?i.getArchIcon:f(_e))(s),title:s},null,8,["name","title"]))),128))]),h("div",Le,[h("div",Ve,k(e.date),1),h("p",null,k(e.error??e.desc),1),e.comment?(r(),g("p",We,[_(d,{name:"ph:chat-centered-dots-bold"}),ye(" "+k(e.comment),1)])):D("",!0)])]),default:O(()=>[_(f(me),{class:"feed-card gradient-card",to:e.error?void 0:e.link,"data-error":e.error},{default:O(()=>[h("div",Be,[f(a)?(r(),N(p,{key:0},{default:O(()=>[_(y,{src:e.icon,title:e.icon,style:U(l(e.icon))},null,8,["src","title","style"]),_(y,{src:e.avatar,title:e.avatar,style:U(l(e.avatar))},null,8,["src","title","style"])]),_:1})):(r(),N(y,{key:1,src:e.avatar,alt:e.author,loading:"lazy",title:e.feed?void 0:"无订阅源"},null,8,["src","alt","title"])),e.feed?D("",!0):(r(),N(d,{key:2,class:"no-feed",name:"ph:bell-simple-slash-bold"}))]),h("span",null,k(e.author),1),h("span",Ee,k(e.sitenick),1),f(a)?(r(),g("span",He,k(f(t)),1)):D("",!0)]),_:1},8,["to","data-error"])]),_:1})}}}),se=Object.assign(q(Je,[["__scopeId","data-v-37fd4a3f"]]),{__name:"FeedCard"}),Ke={key:0,class:"feed-label text-creative"},Ue={class:"feed-title"},Xe={class:"feed-desc"},Ze=R({__name:"FeedGroup",props:{label:{},feeds:{}},setup(e){function n(t){let o=0;for(const c of t.link)o=o*31+c.charCodeAt(0);return o%1e3/1e3}return(t,o)=>{const c=se;return r(),g(F,null,[e.label?(r(),g("h2",Ke,k(e.label),1)):D("",!0),(r(!0),g(F,null,M(e.feeds,a=>(r(),g("section",{key:a.name,class:"feed-group"},[h("h3",Ue,k(a.name),1),h("p",Xe,k(a.desc),1),_(ke,{tag:"menu",class:"feed-list",appear:"",name:"float-in"},{default:O(()=>[(r(!0),g(F,null,M(a.entries,l=>(r(),g("li",{key:l.link,style:U(`--delay: ${n(l)}s;`)},[_(c,ve({ref_for:!0},l),null,16)],4))),128))]),_:2},1024)]))),128))],64)}}}),Qe=Object.assign(q(Ze,[["__scopeId","data-v-56410164"]]),{__name:"FeedGroup"});function Ye(e,n){let t=0;for(;t<e.length;t++){const{text:a,ranges:l}=n[t]??{};if(e[t]!==a||l?.some(i=>i.collapsed))break}let o=e.length-1,c=n.length-1;for(;o>=0&&c>=0;o--,c--){const{text:a,ranges:l}=n[c]??{};if(e[o]!==a||l?.some(i=>i.collapsed))break}return t>o&&([t,o]=[o,t]),t=Math.max(0,t),o=Math.min(e.length-1,o)+1,e.length===n.length&&t+1===o?[t,o]:et(e,t,o)}function et(e,n,t){const o=c(Math.max(0,n+t-e.length));n-=o,t+=o;function c(p){const d=e.slice(0,n).indexOf(e[t],p);if(d===-1)return 0;for(let u=d,s=t;u<n-1;s++,u++)if(e[u+1]!==e[s+1])return c(p+1);return n-d}const a=e.join(`
`),l=e.slice(0,n).join(`
`).length,i=e.slice(0,t).join(`
`).length;let m=0;for(let p=n-1,d=i-1;p<t&&d>=l;p--){const u=e[p],s=a.lastIndexOf(u,d);if(s!==-1&&s>=l)m++,d=s-1;else break}let y=0;for(let p=t,d=l;p>=n&&d<i;p++){const u=e[p],s=a.indexOf(u,d);if(s!==-1&&s<i)y++,d=s+1;else break}return[n-m,t+y]}function tt(e,n){let t=0,o;return function(...c){o&&(clearTimeout(o),o=void 0);const a=performance.now();!t||a-t>=n?(e.apply(this,c),t=a):o=setTimeout(()=>{e.apply(this,c),t=performance.now(),o=void 0},n+t-a)}}function nt(e){let n=!1;return function(...t){return n?!1:(n=!0,e.apply(this,t),!0)}}function ot(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function st(e){return{mount:n};function n(t,o){const{lang:c,themes:a={light:"min-light",dark:"min-dark"},defaultTheme:l="light",selector:i=v=>`.${v}`,defaultSelector:m=":root",watch:y=!0,delay:p=33.4}=o,d=new CSSStyleSheet;document.adoptedStyleSheets.push(d);const u=new Map,s=[];function C(v){for(const{range:b,name:T}of v)CSS.highlights.get(T)?.delete(b),u.get(T)?.delete(b)}function w(v){for(const{range:b,color:T,theme:$,name:x}of v){const z=$===l;let G=CSS.highlights.get(x);G||(CSS.highlights.set(x,G=new Highlight),G.priority=z?0:1);let B=u.get(x);if(!B){u.set(x,B=new Set);const I=`${z?m:i($)}::highlight(${x}) { color: ${T}; }`;d.insertRule(I)}G.add(b),B.add(b)}}const A=tt(()=>{const{innerText:v}=t,b=v.split(`
`),T=at(t),[$,x]=Ye(b,s),z=x-b.length+s.length,G=s.splice(z);for(let S=$;S<z;S++)C(s[S].info);const B=s.at(-1)?.lastGrammarState;s.length=x-1,s.fill(null,$,x-1),s.push(ct({lastGrammarState:B}),...G);let I=b.slice(0,$).reduce((S,E)=>S+E.length+1,0);const Z=it(v,T,I);for(let S=$;S<b.length;S++){const E=b[S],V=s[S],W=e.codeToTokens(E,{lang:c,themes:a,cssVariablePrefix:"",defaultColor:!1,grammarState:s[S-1]?.lastGrammarState}),Q=[],J=[];for(const H of W.tokens[0]){if(!H.content.trim().length)continue;const[ce,le]=Z(I+H.offset),[ie,re]=Z(I+H.offset+H.content.length),L=document.createRange();L.setStart(ce,le),L.setEnd(ie,re),Q.push(L),J.push(...lt(H,L))}V&&C(V.info),w(J);const Y=V?.lastGrammarState?.getScopes(),ee=W.grammarState?.getScopes(),ae=Y&&ee&&ot(Y,ee);if(s[S]={text:E,offset:I,lastGrammarState:W.grammarState,ranges:Q,info:J},!ae)I+=E.length+1;else break}},p);return y&&t.addEventListener("input",A),A(),{dispose:nt(()=>{y&&t.removeEventListener("input",A);const v=document.adoptedStyleSheets.indexOf(d);document.adoptedStyleSheets.splice(v,1);for(const[b,T]of u){const $=CSS.highlights.get(b);for(const x of T)$?.delete(x)}}),update:A}}}function at(e){const n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),t=[];let o;for(;o=n.nextNode();)t.push(o);return t}function ct(e={}){return{text:"",offset:0,lastGrammarState:void 0,ranges:[],info:[],...e}}function*lt(e,n){if(typeof e.htmlStyle=="object")for(const t in e.htmlStyle){const o=e.htmlStyle[t],c=`shiki-${t}-${o.slice(1).toLowerCase()}`;yield{range:n,color:o,theme:t,name:c}}}function it(e,n,t){let o=0,c=0,a=!1;return t>0&&l(t),l;function l(i){for(;o<n.length;o++){const{textContent:m}=n[o];if(m)if(a||(c=e.indexOf(m,c),a=!0),c+m.length<i)c+=m.length,a=!1;else break}return[n[o],i-c]}}const rt={class:"copy"},dt={key:0,class:"prompt"},ut=["textContent"],ft=R({__name:"Copy",props:{prompt:{type:[String,Boolean],default:"$"},code:{},lang:{}},setup(e){const n=e,t=P(()=>n.prompt!==!0),o=P(()=>n.lang??be(n.prompt)),c=X(!1),a=Se("code-input"),l=xe(),{copy:i,copied:m}=Ce(a);function y(){a.value&&(a.value.textContent=n.code??"",a.value.dispatchEvent(new Event("input")),c.value=!1)}function p(u){const{data:s,inputType:C}=u;(s?.includes(`
`)||C==="insertLineBreak")&&u.preventDefault()}function d(u){c.value=n.code!==u.target.textContent}return ne(async()=>{const u=await l.load();await l.loadLang(o.value),st(u).mount(a.value,l.getOptions(o.value))}),(u,s)=>{const C=oe;return r(),g("code",rt,[f(t)?(r(),g("span",dt,k(e.prompt),1)):D("",!0),h("div",{ref:"code-input",contenteditable:"plaintext-only",class:"code scrollcheck-x",spellcheck:"false",onBeforeinput:s[0]||(s[0]=w=>p(w)),onInput:s[1]||(s[1]=w=>d(w)),textContent:k(e.code)},null,40,ut),f(c)?(r(),g("button",{key:1,class:"operation","aria-label":"恢复原始内容",onClick:y},[_(C,{name:"ph:arrow-u-up-left-bold"})])):D("",!0),h("button",{class:"operation","aria-label":"复制",onClick:s[2]||(s[2]=w=>f(i)())},[_(C,{name:f(m)?"ph:check-bold":"ph:copy-bold"},null,8,["name"])])])}}}),mt=Object.assign(q(ft,[["__scopeId","data-v-3fcf4efe"]]),{__name:"Copy"}),ht={class:"tabs"},pt=["onClick"],gt={class:"tab-content"},_t=R({__name:"Tab",props:{tabs:{},center:{type:Boolean},active:{}},setup(e){const t=X(Number(e.active)||1);return(o,c)=>(r(),g("div",{class:te({center:e.center})},[h("div",ht,[(r(!0),g(F,null,M(e.tabs,(a,l)=>(r(),g("button",{key:l,class:te({active:f(t)===l+1}),onClick:i=>t.value=l+1},k(a),11,pt))),128))]),h("div",gt,[$e(o.$slots,`tab${f(t)}`,{},void 0,!0)])],2))}}),yt=Object.assign(q(_t,[["__scopeId","data-v-a33af335"]]),{__name:"Tab"}),kt=[{name:"网上邻居",desc:"哔——啵——电波通讯中，欢迎常来串门。",entries:[{author:"张洪Heo",desc:"分享设计与科技生活",link:"https://blog.zhheo.com/",feed:"https://blog.zhheo.com/atom.xml",icon:"https://blog.zhheo.com/img/favicon4.0.webp",avatar:"https://bu.dusays.com/2022/12/28/63ac2812183aa.png",archs:["Hexo","国内 CDN"],date:"2025-08-06",comment:"知名博主，其博客设计风格被众多人借鉴。"},{author:"Soulter",desc:"Code with love!",link:"https://blog.soulter.top",feed:"https://blog.soulter.top/atom.xml",icon:"https://avatars.githubusercontent.com/u/37870767?v=4",avatar:"https://avatars.githubusercontent.com/u/37870767?v=4",archs:["Hexo","国内 CDN"],date:"2025-08-09",comment:"技术博主，GitHub获得超12k stars"},{author:"𝟞𝟙𝟡",desc:"𝓙𝓾𝓼𝓽 𝓪 𝓬𝓵𝓸𝓾𝓭",link:"https://66619.eu.org",feed:"https://66619.eu.org/rss/feed.xml",icon:"https://7.isyangs.cn/20250817/45951aa2614367e6f31cd976042d3d96.png",avatar:"https://7.isyangs.cn/20250817/45951aa2614367e6f31cd976042d3d96.png",archs:["NotionNext","国内 CDN"],date:"2025-08-09",comment:"分享技术与生活瞬间"}]}],vt={class:"mobile-only"},bt={class:"link-tab"},St={key:1,class:"text-center"},xt=R({__name:"link",async setup(e){let n,t;const o=we();Te().setAside([]);const{data:a}=([n,t]=Ie(()=>je("/link",()=>ze("content").path("/link").first())),n=await n,t(),n);Ne({title:"友链",meta:[{property:"og:type",content:"profile"},{name:"description",content:`${o.title}的友链页面，收集了添加他为友链的网站和他订阅的网站列表。`}]});const l={博主:j.author,标题:j.title,介绍:j.desc,网址:j.link,头像:j.avatar};return(i,m)=>{const y=Oe,p=Qe,d=se,u=mt,s=Ae,C=yt,w=Ge;return r(),g(F,null,[h("div",vt,[_(y,{to:"/",suffix:"友链"})]),_(p,{feeds:f(kt)},null,8,["feeds"]),_(C,{tabs:["我的博客信息","申请友链"],center:""},{tab1:O(()=>[h("div",bt,[_(d,De(Fe(f(j))),null,16),(r(),g(F,null,M(l,(A,v)=>_(u,{key:v,prompt:v,code:A},null,8,["prompt","code"])),64))])]),tab2:O(()=>[f(a)?(r(),N(s,{key:0,value:f(a),class:"article"},null,8,["value"])):(r(),g("p",St," 可于 link.md 配置友链补充说明。 "))]),_:1}),_(w)],64)}}}),It=q(xt,[["__scopeId","data-v-ebf94dec"]]);export{It as default};
